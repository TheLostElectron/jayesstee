{"version":3,"sources":["../src/jayesstee.chart.js"],"names":["Chart","optsAndData","initialOptsAndData","$div","ref","chartContext","chartDiv","el","chart","update","opts","options","refresh","label","dataset","index","labels","indexOf","datasets","splice","push","Object"],"mappings":"o2BAAA,oC,wIAGaA,M,SAAAA,K,iEAQX,eAAYC,WAAZ,CAAyB,oKAEvB,MAAKC,kBAAL,CAA0BD,WAA1B,CAFuB,YAGxB,C,sEAEQ,CACP,MAAO,qBAAIE,IAAJ,CAAS,CAACC,IAAK,UAAN,CAAT,CACR,C,+CAEY,CACX,GAAIC,cAAe,KAAKC,QAAL,CAAcC,EAAjC,CACA,GAAI,KAAKC,KAAT,CAAgB,CACd,KAAKA,KAAL,CAAWC,MAAX,EACD,CAFD,IAGK,CACH,KAAKD,KAAL,CAAa,GAAIR,MAAJ,CAAU,KAAKM,QAAL,CAAcC,EAAxB,CAA4B,KAAKL,kBAAjC,CAAb,CACA,MAAO,MAAKA,kBACb,CACF,C,oDAGaQ,I,CAAM,CAClB,KAAKF,KAAL,CAAWG,OAAX,CAAqB,qBAAc,KAAKH,KAAL,CAAWG,OAAzB,CAAkCD,IAAlC,CAArB,CACA,KAAKE,OAAL,EACD,C,8CAGUF,I,CAAM,CACf,KAAKF,KAAL,CAAWG,OAAX,CAAqBD,IAArB,CACA,KAAKE,OAAL,EACD,C,oDAGaC,K,CAAOC,O,CAAS,CAC5B,GAAIC,OAAQ,KAAKP,KAAL,CAAWQ,MAAX,CAAkBC,OAAlB,CAA0BJ,KAA1B,CAAZ,CACA,GAAIE,OAAS,CAAb,CAAgB,CACd,KAAKP,KAAL,CAAWU,QAAX,CAAoBH,KAApB,EAA6BD,OAA7B,CACA,KAAKF,OAAL,EACD,CACF,C,oDAGaC,K,CAAO,CACnB,GAAIE,OAAQ,KAAKP,KAAL,CAAWQ,MAAX,CAAkBC,OAAlB,CAA0BJ,KAA1B,CAAZ,CACA,GAAIE,OAAS,CAAb,CAAgB,CACd,KAAKP,KAAL,CAAWU,QAAX,CAAoBC,MAApB,CAA2BJ,KAA3B,CAAkC,CAAlC,EACA,KAAKP,KAAL,CAAWQ,MAAX,CAAkBG,MAAlB,CAAyBJ,KAAzB,CAAgC,CAAhC,EACA,KAAKH,OAAL,EACD,CACF,C,8CAGUC,K,CAAOC,O,CAAS,CACzB,KAAKN,KAAL,CAAWU,QAAX,CAAoBE,IAApB,CAAyBN,OAAzB,EACA,KAAKN,KAAL,CAAWK,KAAX,CAAiBO,IAAjB,CAAsBP,KAAtB,CACD,C,kBA/DwB,oBAAIQ,M","file":"jayesstee.chart.js","sourcesContent":["import jst from \"jayesstee\";\n\n\nexport class Chart extends jst.Object {\n  // The options for the this class are the same as\n  // those that would be specified for chartjs (www.chartjs.org):\n  // {\n  //   type:     <type of chart>,\n  //   data:     { datasets and labels },\n  //   options:  { options from chartjs }\n  // }\n  constructor(optsAndData) {\n    super();\n    this.initialOptsAndData = optsAndData;\n  }\n\n  render() {\n    return jst.$div({ref: \"chartDiv\"});\n  }\n\n  postRender() {\n    let chartContext = this.chartDiv.el;\n    if (this.chart) {\n      this.chart.update();\n    }\n    else {\n      this.chart = new Chart(this.chartDiv.el, this.initialOptsAndData);\n      delete(this.initialOptsAndData);\n    }\n  }\n\n  // Merge in the chart's options\n  updateOptions(opts) {\n    this.chart.options = Object.assign(this.chart.options, opts);\n    this.refresh();\n  }\n\n  // Just set the chart's options\n  setOptions(opts) {\n    this.chart.options = opts;\n    this.refresh();\n  }\n\n  // Update a single dataset\n  updateDataset(label, dataset) {\n    let index = this.chart.labels.indexOf(label);\n    if (index >= 0) {\n      this.chart.datasets[index] = dataset;\n      this.refresh();\n    }\n  }\n\n  // Remove the named dataset\n  removeDataset(label) {\n    let index = this.chart.labels.indexOf(label);\n    if (index >= 0) {\n      this.chart.datasets.splice(index, 1);\n      this.chart.labels.splice(index, 1);\n      this.refresh();\n    }\n  }\n\n  // Add a new dataset\n  addDataset(label, dataset) {\n    this.chart.datasets.push(dataset);\n    this.chart.label.push(label);\n  }\n  \n}\n"]}